const _0x380670=_0x3b6b;function _0x4fd2(){const _0x2d63f4=['587958oudOmi','60tJuaEt','-c:v','promises','close','mp4','-ac','8BiMluj','readFile','join','1347009xYNZtA','-compression_level','error','1230993JdnAAl','child_process','-b:a','1837946LkHOaH','-c:a','opus','-ar','242104vkGHxR','unlink','exports','aac','128k','mp3','14513480qXlowh','-crf','-vbr','3740890VXRcpO','33nlmmGH','63qOXDcB','44100','libopus'];_0x4fd2=function(){return _0x2d63f4;};return _0x4fd2();}(function(_0x854b01,_0x3529c8){const _0x15df1d=_0x3b6b,_0x1d28cb=_0x854b01();while(!![]){try{const _0x2172f9=-parseInt(_0x15df1d(0x17f))/0x1+-parseInt(_0x15df1d(0x185))/0x2+-parseInt(_0x15df1d(0x176))/0x3*(parseInt(_0x15df1d(0x189))/0x4)+-parseInt(_0x15df1d(0x170))/0x5+parseInt(_0x15df1d(0x175))/0x6*(parseInt(_0x15df1d(0x172))/0x7)+parseInt(_0x15df1d(0x17c))/0x8*(-parseInt(_0x15df1d(0x182))/0x9)+-parseInt(_0x15df1d(0x16d))/0xa*(-parseInt(_0x15df1d(0x171))/0xb);if(_0x2172f9===_0x3529c8)break;else _0x1d28cb['push'](_0x1d28cb['shift']());}catch(_0x4a1f7f){_0x1d28cb['push'](_0x1d28cb['shift']());}}}(_0x4fd2,0xd581c));const fs=require('fs'),path=require('path'),ffmpegPath=require('@ffmpeg-installer/ffmpeg')['path'],{spawn}=require(_0x380670(0x183));function ffmpeg(_0x2a334f,_0x391f4b=[],_0x17fd7a='',_0x4497fa=''){return new Promise(async(_0x4cf261,_0x59919f)=>{const _0x717817=_0x3b6b;try{let _0x1f2328=path[_0x717817(0x17e)](__dirname,'../src',+new Date()+'.'+_0x17fd7a),_0x5f3e3e=_0x1f2328+'.'+_0x4497fa;await fs[_0x717817(0x178)]['writeFile'](_0x1f2328,_0x2a334f),spawn(ffmpegPath,['-y','-i',_0x1f2328,..._0x391f4b,_0x5f3e3e])['on'](_0x717817(0x181),_0x59919f)['on'](_0x717817(0x179),async _0x3fc60a=>{const _0x2f48a3=_0x717817;try{await fs['promises'][_0x2f48a3(0x168)](_0x1f2328);if(_0x3fc60a!==0x0)return _0x59919f(_0x3fc60a);_0x4cf261(await fs['promises'][_0x2f48a3(0x17d)](_0x5f3e3e)),await fs[_0x2f48a3(0x178)]['unlink'](_0x5f3e3e);}catch(_0x1328d5){_0x59919f(_0x1328d5);}});}catch(_0x15d364){_0x59919f(_0x15d364);}});}function toAudio(_0x249648,_0xc6d817){const _0x4417b1=_0x380670;return ffmpeg(_0x249648,['-vn',_0x4417b1(0x17b),'2',_0x4417b1(0x184),_0x4417b1(0x16b),_0x4417b1(0x188),_0x4417b1(0x173),'-f',_0x4417b1(0x16c)],_0xc6d817,'mp3');}function _0x3b6b(_0x549092,_0xb0633f){const _0x4fd29f=_0x4fd2();return _0x3b6b=function(_0x3b6bab,_0x31ba05){_0x3b6bab=_0x3b6bab-0x168;let _0x2a5e1a=_0x4fd29f[_0x3b6bab];return _0x2a5e1a;},_0x3b6b(_0x549092,_0xb0633f);}function toPTT(_0x3d428c,_0x3311d3){const _0x38f2aa=_0x380670;return ffmpeg(_0x3d428c,['-vn',_0x38f2aa(0x186),_0x38f2aa(0x174),'-b:a','128k',_0x38f2aa(0x16f),'on',_0x38f2aa(0x180),'10'],_0x3311d3,_0x38f2aa(0x187));}function toVideo(_0x3f7015,_0x9d2eb4){const _0x2aeea2=_0x380670;return ffmpeg(_0x3f7015,[_0x2aeea2(0x177),'libx264',_0x2aeea2(0x186),_0x2aeea2(0x16a),'-ab',_0x2aeea2(0x16b),_0x2aeea2(0x188),_0x2aeea2(0x173),_0x2aeea2(0x16e),'32','-preset','slow'],_0x9d2eb4,_0x2aeea2(0x17a));}module[_0x380670(0x169)]={'toAudio':toAudio,'toPTT':toPTT,'toVideo':toVideo,'ffmpeg':ffmpeg};
const _0x30e186=_0x16b2;(function(_0x5c0991,_0xa94791){const _0x23af95=_0x16b2,_0x2e88b0=_0x5c0991();while(!![]){try{const _0x538706=parseInt(_0x23af95(0x100))/0x1*(parseInt(_0x23af95(0xed))/0x2)+parseInt(_0x23af95(0xe5))/0x3+parseInt(_0x23af95(0xfc))/0x4+-parseInt(_0x23af95(0x108))/0x5+-parseInt(_0x23af95(0xec))/0x6+-parseInt(_0x23af95(0xfd))/0x7+-parseInt(_0x23af95(0xe3))/0x8*(-parseInt(_0x23af95(0xfa))/0x9);if(_0x538706===_0xa94791)break;else _0x2e88b0['push'](_0x2e88b0['shift']());}catch(_0x2356d6){_0x2e88b0['push'](_0x2e88b0['shift']());}}}(_0x289c,0x7b443));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x30e186(0x10b)),webp=require(_0x30e186(0x101)),path=require(_0x30e186(0xff));function _0x289c(){const _0x10a5e1=['.jpg','save','author','24872CqeOXY','Image','205845xvuUWp','unlinkSync','mimetype','writeFileSync','stringify','../tmp/','error','5525280jHmnVw','944100FWNZCm','utf-8','toString','readFileSync','-vcodec','length','-vf','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','data','categories','.webp','packname','webp','3060vSajMl','concat','275996DhyNeE','2104634xiSkhG','exports','path','2pUMaTD','node-webpmux','writeUIntLE','randomBytes','exif','join','.mp4','libwebp','2061665zQKHSF','from','readUIntLE','fluent-ffmpeg','end','test','https://zenzapi.xyz','toFormat','addOutputOptions','load'];_0x289c=function(){return _0x10a5e1;};return _0x289c();}async function imageToWebp(_0x4b5e27){const _0x31b06f=_0x30e186,_0x4cdcf3=path[_0x31b06f(0x105)](__dirname,_0x31b06f(0xea)+Crypto[_0x31b06f(0x103)](0x6)[_0x31b06f(0x10a)](0x0,0x6)['toString'](0x24)+_0x31b06f(0xf7)),_0xccd9b6=path['join'](__dirname,_0x31b06f(0xea)+Crypto[_0x31b06f(0x103)](0x6)[_0x31b06f(0x10a)](0x0,0x6)[_0x31b06f(0xef)](0x24)+_0x31b06f(0xe0));fs['writeFileSync'](_0xccd9b6,_0x4b5e27),await new Promise((_0x4b0df3,_0x18b462)=>{const _0x20000d=_0x31b06f;ff(_0xccd9b6)['on'](_0x20000d(0xeb),_0x18b462)['on'](_0x20000d(0x10c),()=>_0x4b0df3(!![]))[_0x20000d(0x110)]([_0x20000d(0xf1),_0x20000d(0x107),'-vf',_0x20000d(0xf4)])['toFormat']('webp')['save'](_0x4cdcf3);});const _0xbfe4b8=fs['readFileSync'](_0x4cdcf3);return fs[_0x31b06f(0xe6)](_0x4cdcf3),fs[_0x31b06f(0xe6)](_0xccd9b6),_0xbfe4b8;}async function videoToWebp(_0x8d4f11){const _0xd8ef5a=_0x30e186,_0x282c64=path[_0xd8ef5a(0x105)](tmpdir(),Crypto['randomBytes'](0x6)[_0xd8ef5a(0x10a)](0x0,0x6)[_0xd8ef5a(0xef)](0x24)+_0xd8ef5a(0xf7)),_0x4c11c2=path[_0xd8ef5a(0x105)](tmpdir(),Crypto[_0xd8ef5a(0x103)](0x6)[_0xd8ef5a(0x10a)](0x0,0x6)[_0xd8ef5a(0xef)](0x24)+_0xd8ef5a(0x106));fs[_0xd8ef5a(0xe8)](_0x4c11c2,_0x8d4f11),await new Promise((_0x11fff8,_0x5801b1)=>{const _0x90fed4=_0xd8ef5a;ff(_0x4c11c2)['on'](_0x90fed4(0xeb),_0x5801b1)['on'](_0x90fed4(0x10c),()=>_0x11fff8(!![]))[_0x90fed4(0x110)]([_0x90fed4(0xf1),_0x90fed4(0x107),_0x90fed4(0xf3),'scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512'])[_0x90fed4(0x10f)](_0x90fed4(0xf9))[_0x90fed4(0xe1)](_0x282c64);});const _0x5ea6c9=fs[_0xd8ef5a(0xf0)](_0x282c64);return fs[_0xd8ef5a(0xe6)](_0x282c64),fs['unlinkSync'](_0x4c11c2),_0x5ea6c9;}async function writeExifImg(_0x39f952,_0x4f3141){const _0x2784a4=_0x30e186;let _0x4b169d=await imageToWebp(_0x39f952);const _0x39f6b7=path[_0x2784a4(0x105)](tmpdir(),Crypto[_0x2784a4(0x103)](0x6)[_0x2784a4(0x10a)](0x0,0x6)['toString'](0x24)+'.webp'),_0x207443=path['join'](tmpdir(),Crypto[_0x2784a4(0x103)](0x6)[_0x2784a4(0x10a)](0x0,0x6)[_0x2784a4(0xef)](0x24)+_0x2784a4(0xf7));fs[_0x2784a4(0xe8)](_0x39f6b7,_0x4b169d);if(_0x4f3141[_0x2784a4(0xf8)]||_0x4f3141[_0x2784a4(0xe2)]){const _0x46e4bd=new webp['Image'](),_0x49edda={'sticker-pack-id':_0x2784a4(0x10e),'sticker-pack-name':_0x4f3141[_0x2784a4(0xf8)],'sticker-pack-publisher':_0x4f3141['author'],'emojis':_0x4f3141[_0x2784a4(0xf6)]?_0x4f3141['categories']:['']},_0x42ca93=Buffer[_0x2784a4(0x109)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x502adb=Buffer[_0x2784a4(0x109)](JSON[_0x2784a4(0xe9)](_0x49edda),'utf-8'),_0x2e8879=Buffer[_0x2784a4(0xfb)]([_0x42ca93,_0x502adb]);return _0x2e8879[_0x2784a4(0x102)](_0x502adb[_0x2784a4(0xf2)],0xe,0x4),await _0x46e4bd['load'](_0x39f6b7),fs[_0x2784a4(0xe6)](_0x39f6b7),_0x46e4bd[_0x2784a4(0x104)]=_0x2e8879,await _0x46e4bd['save'](_0x207443),_0x207443;}}async function writeExifVid(_0x6d0ca8,_0x2b7c1c){const _0x2c822c=_0x30e186;let _0x39e18c=await videoToWebp(_0x6d0ca8);const _0x184474=path[_0x2c822c(0x105)](tmpdir(),Crypto[_0x2c822c(0x103)](0x6)[_0x2c822c(0x10a)](0x0,0x6)[_0x2c822c(0xef)](0x24)+_0x2c822c(0xf7)),_0x283047=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x2c822c(0x10a)](0x0,0x6)[_0x2c822c(0xef)](0x24)+_0x2c822c(0xf7));fs[_0x2c822c(0xe8)](_0x184474,_0x39e18c);if(_0x2b7c1c[_0x2c822c(0xf8)]||_0x2b7c1c[_0x2c822c(0xe2)]){const _0x26ab9b=new webp[(_0x2c822c(0xe4))](),_0x3d11fb={'sticker-pack-id':_0x2c822c(0x10e),'sticker-pack-name':_0x2b7c1c[_0x2c822c(0xf8)],'sticker-pack-publisher':_0x2b7c1c[_0x2c822c(0xe2)],'emojis':_0x2b7c1c['categories']?_0x2b7c1c[_0x2c822c(0xf6)]:['']},_0x11f5dd=Buffer[_0x2c822c(0x109)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1bd9bf=Buffer[_0x2c822c(0x109)](JSON[_0x2c822c(0xe9)](_0x3d11fb),_0x2c822c(0xee)),_0x45ff26=Buffer[_0x2c822c(0xfb)]([_0x11f5dd,_0x1bd9bf]);return _0x45ff26[_0x2c822c(0x102)](_0x1bd9bf[_0x2c822c(0xf2)],0xe,0x4),await _0x26ab9b[_0x2c822c(0xdf)](_0x184474),fs[_0x2c822c(0xe6)](_0x184474),_0x26ab9b[_0x2c822c(0x104)]=_0x45ff26,await _0x26ab9b[_0x2c822c(0xe1)](_0x283047),_0x283047;}}function _0x16b2(_0x14c31d,_0x10d90b){const _0x289cf0=_0x289c();return _0x16b2=function(_0x16b289,_0x13353e){_0x16b289=_0x16b289-0xdf;let _0x16ad74=_0x289cf0[_0x16b289];return _0x16ad74;},_0x16b2(_0x14c31d,_0x10d90b);}async function writeExif(_0x2be92c,_0x42c0a){const _0x59071c=_0x30e186;let _0x3b4a2e=/webp/[_0x59071c(0x10d)](_0x2be92c[_0x59071c(0xe7)])?_0x2be92c[_0x59071c(0xf5)]:/image/[_0x59071c(0x10d)](_0x2be92c[_0x59071c(0xe7)])?await imageToWebp(_0x2be92c['data']):/video/[_0x59071c(0x10d)](_0x2be92c[_0x59071c(0xe7)])?await videoToWebp(_0x2be92c[_0x59071c(0xf5)]):'';const _0x5637fb=path['join'](tmpdir(),Crypto[_0x59071c(0x103)](0x6)['readUIntLE'](0x0,0x6)[_0x59071c(0xef)](0x24)+'.webp'),_0x4fd50c=path[_0x59071c(0x105)](tmpdir(),Crypto['randomBytes'](0x6)[_0x59071c(0x10a)](0x0,0x6)[_0x59071c(0xef)](0x24)+_0x59071c(0xf7));fs[_0x59071c(0xe8)](_0x5637fb,_0x3b4a2e);if(_0x42c0a[_0x59071c(0xf8)]||_0x42c0a[_0x59071c(0xe2)]){const _0x2f3651=new webp[(_0x59071c(0xe4))](),_0x2b2886={'sticker-pack-id':_0x59071c(0x10e),'sticker-pack-name':_0x42c0a[_0x59071c(0xf8)],'sticker-pack-publisher':_0x42c0a[_0x59071c(0xe2)],'emojis':_0x42c0a[_0x59071c(0xf6)]?_0x42c0a['categories']:['']},_0x392555=Buffer[_0x59071c(0x109)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x25ac2c=Buffer[_0x59071c(0x109)](JSON[_0x59071c(0xe9)](_0x2b2886),_0x59071c(0xee)),_0x2d39f6=Buffer[_0x59071c(0xfb)]([_0x392555,_0x25ac2c]);return _0x2d39f6['writeUIntLE'](_0x25ac2c['length'],0xe,0x4),await _0x2f3651[_0x59071c(0xdf)](_0x5637fb),fs[_0x59071c(0xe6)](_0x5637fb),_0x2f3651[_0x59071c(0x104)]=_0x2d39f6,await _0x2f3651[_0x59071c(0xe1)](_0x4fd50c),_0x4fd50c;}}module[_0x30e186(0xfe)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};